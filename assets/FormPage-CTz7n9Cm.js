import{c as H,l as K,h as W,t as G,_ as N,H as Y,I as J,r as f,B as O,C as j,D as i,E as a,Q as T,N as x,a6 as R,af as b,O as M,ag as X,a8 as Z,ah as k,ai as V,aj as S,ak as F,W as $,G as P,al as ee}from"./index-BA5aWebT.js";import{Q as te}from"./QPopupEdit-bIpPq6fd.js";import{Q as w}from"./QTd-CBglbMnd.js";import{a as re}from"./QTable-Db64eSXI.js";import{Q as oe}from"./QPage-PcLTelbh.js";import{Q as ae}from"./QColor-CdTula2t.js";import{Q as le}from"./QPopupProxy-C0VbnuWx.js";import{Q as ne}from"./QSelect-n0rZZ86P.js";import{Q as ie}from"./QForm-np2oPtr3.js";import{l as I,k as U}from"./index-BqawO4WD.js";import{a as E}from"./index-DdZkc7W-.js";import{u as L}from"./use-meta-CzTCAmda.js";import"./QMenu-BRIDIeWr.js";import"./selection-DbtMzwTB.js";import"./QList-B97Zbw5y.js";import"./use-fullscreen-BjpXb6sJ.js";import"./TouchPan-Q14waBmd.js";import"./format-hlGAdIUH.js";import"./QResizeObserver-C0OKpkct.js";import"./use-panel-COGt6Vzr.js";import"./use-render-cache-DLxPkVnQ.js";import"./QChip-BPe3AwEH.js";import"./QItemLabel-C26Gfd9w.js";import"./index-C32mnd9j.js";const se=H({name:"QTr",props:{props:Object,noHover:Boolean},setup(o,{slots:e}){const n=K(()=>"q-tr"+(o.props===void 0||o.props.header===!0?"":" "+o.props.__trClass)+(o.noHover===!0?" q-tr--no-hover":""));return()=>W("tr",{class:n.value},G(e.default))}}),ue={__name:"createItemForm",props:{form:{type:Object},formModifiers:{}},emits:Y(["create"],["update:form"]),setup(o,{expose:e,emit:n}){e();const t=J(o,"form"),g=n,h=f({});function r(){h.value={title:"This title already exist in the bdd"}}const s=f();async function y(){await s.value.validate()&&k.create({title:"Are you sure?",message:"Voulez vous ajouter cet item ?",ok:{label:"Yes",icon:I},cancel:{label:"No",flat:!0}}).onOk(()=>{V.show(),setTimeout(()=>{g("create"),V.hide(),S.create({message:"Item successfully added",icon:U,color:"positive"})},3e3)}).onCancel(()=>{t.value={}}).onDismiss(()=>{})}const q={form:t,emit:g,error:h,giveMeError:r,formComponent:s,handleSubmitForm:y,get mdiCheck(){return I},get mdiPlus(){return U},get Dialog(){return k},get Loading(){return V},get Notify(){return S},ref:f};return Object.defineProperty(q,"__isScriptSetup",{enumerable:!1,value:!0}),q}};function me(o,e,n,t,g,h){return O(),j(Z,{class:"q-mx-xl q-px-xl"},{default:i(()=>[a(T,{onClick:t.giveMeError},{default:i(()=>e[6]||(e[6]=[x("error backend")])),_:1}),a(R,null,{default:i(()=>[a(ie,{ref:"formComponent",class:"q-gutter-y-md",onSubmit:t.handleSubmitForm},{default:i(()=>[a(b,{modelValue:t.form.title,"onUpdate:modelValue":e[0]||(e[0]=r=>t.form.title=r),label:"title",outlined:"",error:!!t.error?.title,"error-message":t.error?.title},null,8,["modelValue","error","error-message"]),a(b,{modelValue:t.form.quantity,"onUpdate:modelValue":e[1]||(e[1]=r=>t.form.quantity=r),label:"quantitÃ©",outlined:"","lazy-rules":"",rules:[r=>r>0||"Need at least one quantity",r=>r<10||"Too many quantity"]},null,8,["modelValue","rules"]),a(b,{modelValue:t.form.color,"onUpdate:modelValue":e[3]||(e[3]=r=>t.form.color=r),filled:"",class:"my-input"},{append:i(()=>[a(M,{name:"colorize",class:"cursor-pointer"},{default:i(()=>[a(le,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[a(ae,{modelValue:t.form.color,"onUpdate:modelValue":e[2]||(e[2]=r=>t.form.color=r)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(X,{modelValue:t.form.is_purchased,"onUpdate:modelValue":e[4]||(e[4]=r=>t.form.is_purchased=r),label:"Purchased"},null,8,["modelValue"]),a(ne,{modelValue:t.form.status,"onUpdate:modelValue":e[5]||(e[5]=r=>t.form.status=r),options:["important","normal","urgent"],label:"Status"},null,8,["modelValue"]),a(T,{label:"Creer",type:"submit",color:"primary",class:"full-width"})]),_:1},512)]),_:1})]),_:1})}const de=N(ue,[["render",me],["__file","createItemForm.vue"]]);var A={exports:{}},l=A.exports={},u,m;function Q(){throw new Error("setTimeout has not been defined")}function C(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?u=setTimeout:u=Q}catch{u=Q}try{typeof clearTimeout=="function"?m=clearTimeout:m=C}catch{m=C}})();function B(o){if(u===setTimeout)return setTimeout(o,0);if((u===Q||!u)&&setTimeout)return u=setTimeout,setTimeout(o,0);try{return u(o,0)}catch{try{return u.call(null,o,0)}catch{return u.call(this,o,0)}}}function ce(o){if(m===clearTimeout)return clearTimeout(o);if((m===C||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(o);try{return m(o)}catch{try{return m.call(null,o)}catch{return m.call(this,o)}}}var d=[],v=!1,p,_=-1;function fe(){!v||!p||(v=!1,p.length?d=p.concat(d):_=-1,d.length&&D())}function D(){if(!v){var o=B(fe);v=!0;for(var e=d.length;e;){for(p=d,d=[];++_<e;)p&&p[_].run();_=-1,e=d.length}p=null,v=!1,ce(o)}}l.nextTick=function(o){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new z(o,e)),d.length===1&&!v&&B(D)};function z(o,e){this.fun=o,this.array=e}z.prototype.run=function(){this.fun.apply(null,this.array)};l.title="browser";l.browser=!0;l.env={};l.argv=[];l.version="";l.versions={};function c(){}l.on=c;l.addListener=c;l.once=c;l.off=c;l.removeListener=c;l.removeAllListeners=c;l.emit=c;l.prependListener=c;l.prependOnceListener=c;l.listeners=function(o){return[]};l.binding=function(o){throw new Error("process.binding is not supported")};l.cwd=function(){return"/"};l.chdir=function(o){throw new Error("process.chdir is not supported")};l.umask=function(){return 0};var pe=A.exports;const ge={__name:"FormPage",setup(o,{expose:e}){e(),L({title:"Form"});const n=E("list",{}),t=f({title:"Wine",quantity:4}),g=f(!0);function h(){const y=F();t.value.id=y,n.value[y]=t.value,t.value={}}const r=f([{name:"title",label:"title",field:"title",align:"center",sortable:!0},{name:"quantity",align:"center",label:"quantity",field:"quantity"},{name:"is_purchased",label:"Purchased",field:"is_purchased",align:"center"}]),s={list:n,form:t,isFormVisible:g,handleAddItem:h,columns:r,CreateItemForm:de,get useLocalStorage(){return E},get uid(){return F},ref:f,get title(){return pe.title},get useMeta(){return L}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}};function he(o,e,n,t,g,h){return O(),j(oe,{padding:""},{default:i(()=>[a(T,{label:"add item",class:"q-my-md q-ml-xl",onClick:e[0]||(e[0]=r=>t.isFormVisible=!t.isFormVisible)}),a(re,{class:"q-mx-xl q-mb-xl",title:"List",rows:Object.values(t.list),columns:t.columns,"row-key":"title"},{body:i(r=>[a(se,{props:r,class:$({"text-red":r.row.status==="important"})},{default:i(()=>[a(w,{key:"title",props:r},{default:i(()=>[x(P(r.row.title)+" ",1),a(te,{modelValue:r.row.title,"onUpdate:modelValue":s=>r.row.title=s},{default:i(s=>[a(b,{modelValue:s.value,"onUpdate:modelValue":y=>s.value=y,dense:"",autofocus:"",counter:"",onKeyup:ee(s.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),a(w,{key:"quantity",props:r},{default:i(()=>[x(P(r.row.quantity),1)]),_:2},1032,["props"]),a(w,{key:"is_purchased",props:r},{default:i(()=>[a(M,{name:r.row.is_purchased?"check":"cross"},null,8,["name"])]),_:2},1032,["props"])]),_:2},1032,["props","class"])]),_:1},8,["rows","columns"]),a(t.CreateItemForm,{form:t.form,"onUpdate:form":e[1]||(e[1]=r=>t.form=r),hidden:t.isFormVisible,onCreate:t.handleAddItem},null,8,["form","hidden"])]),_:1})}const De=N(ge,[["render",he],["__file","FormPage.vue"]]);export{De as default};
