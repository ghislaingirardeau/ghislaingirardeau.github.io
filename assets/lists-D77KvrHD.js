import{c as y}from"./index-BALEXJ3-.js";import{aW as p,r as h,l as g}from"./index-BA5aWebT.js";const C=p("lists",()=>{const s=y.useLocalStorage("lists",[]),a=h(!1),u=g(()=>s.value.length);function r(e){s.value=e}async function c(e){return new Promise(async(t,n)=>{s.value=s.value.filter(i=>i.id!==e),t({success:!0})})}async function l(e){return new Promise(async(t,n)=>{const i=s.value.find(o=>o.name.toLowerCase()===e.name.toLowerCase());i?n({success:!1,nameAlreadyUsed:i.name}):(s.value.push({...e,items:[]}),t({success:!0}))})}async function d(e){return new Promise(async(t,n)=>{const i=s.value.find(o=>o.id===e.list_id);i?(i.items.push({...e}),t({success:!0})):n({success:!1,message:"Can not add item to this list"})})}async function f(e,t){const n=s.value.find(i=>i.id===e);n.items=t}function m(e){return s.value.find(t=>t.id===e)}function L(e){s.value=s.value.sort((t,n)=>t.id===e?-1:0)}function v(){a.value=!0}function w(){a.value=!1}return{lists:s,isNewListDialogVisible:a,totalItems:u,deleteList:c,addList:l,reorderList:L,updateItemInList:f,addItemInList:d,showDialogNewList:v,hideNewListDialog:w,findListById:m,initListsFromFirestore:r}});export{C as u};
