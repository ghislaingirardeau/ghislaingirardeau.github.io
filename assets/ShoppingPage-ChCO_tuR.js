import{d as N,H,aX as B,I as J,r as k,l as D,_ as z,B as c,C as p,D as i,E as o,a8 as W,a6 as O,F as G,V as R,S as X,T as Y,U as Z,aA as x,Q,al as L,af as M,q as $,b3 as ee,ak as te,aC as oe,O as f,N as F,G as V,W as U,a5 as ie}from"./index-BA5aWebT.js";import{Q as ae}from"./QChip-BPe3AwEH.js";import{Q as le,a as g,b as E}from"./QItemLabel-C26Gfd9w.js";import{Q as K}from"./QPopupEdit-bIpPq6fd.js";import{Q as re}from"./QSlideItem-DIoUM8ZV.js";import{Q as se}from"./QList-B97Zbw5y.js";import{Q as ne}from"./QScrollArea-Dszhyns4.js";import{Q as de}from"./QPage-PcLTelbh.js";import{d as ue}from"./vuedraggable.umd-DhNZDiYf.js";import{k as ce,K as me,l as pe,L as he,s as fe,M as ge}from"./index-BqawO4WD.js";import{Q as _e}from"./QPopupProxy-C0VbnuWx.js";import{Q as ye}from"./QSelect-n0rZZ86P.js";import{Q as be}from"./QSpace-DhHYc43V.js";import{Q as ve}from"./QToolbar-DWjG14Ip.js";import{C as Ce}from"./ClosePopup-JG327cVg.js";import{u as T}from"./shoppingItems-B2rG07Td.js";import"./QMenu-BRIDIeWr.js";import"./selection-DbtMzwTB.js";import"./TouchPan-Q14waBmd.js";import"./use-render-cache-DLxPkVnQ.js";import"./QResizeObserver-C0OKpkct.js";import"./QScrollObserver-BEOk-l2M.js";import"./format-hlGAdIUH.js";import"./_commonjsHelpers-BosuxZz1.js";import"./vue.runtime.esm-bundler-BnDNC94M.js";import"./index-BALEXJ3-.js";import"./index-C32mnd9j.js";import"./firebase-Cpzt2PAy.js";import"./index-DdZkc7W-.js";import"./card-D-jiq-ML.js";import"./lists-D77KvrHD.js";const q=[{id:1,title:"Fruits",shortcut:"Fruit",color:"#FF5733"},{id:2,title:"Légumes",shortcut:"Légume",color:"#28A745"},{id:3,title:"Boucherie",shortcut:"Bouch",color:"#C70039"},{id:4,title:"Charcuterie",shortcut:"Charc",color:"#900C3F"},{id:5,title:"Poissonnerie",shortcut:"Poisson",color:"#007BFF"},{id:6,title:"Boulangerie et pâtisserie",shortcut:"Pain",color:"#FFC300"},{id:7,title:"Produits laitiers",shortcut:"Lait",color:"#FFD700"},{id:8,title:"Épicerie Salée",shortcut:"Salée",color:"#6C757D"},{id:9,title:"Épicerie Sucrée",shortcut:"Sucrée",color:"#FF6347"},{id:10,title:"Surgelés",shortcut:"Surg",color:"#17A2B8"},{id:11,title:"Frais Laitier",shortcut:"Frais Laitier",color:"#11748f"},{id:12,title:"Plat Préparé",shortcut:"Frais Prep",color:"#199185"},{id:13,title:"Boissons",shortcut:"Boisson",color:"#1E90FF"},{id:14,title:"Vins et spiritueux",shortcut:"Vins",color:"#800000"},{id:15,title:"Produits bio et diététiques",shortcut:"Bio",color:"#2E8B57"},{id:16,title:"Produits du monde",shortcut:"Monde",color:"#8B4513"},{id:17,title:"Produits pour bébés",shortcut:"Bébé",color:"#FFC0CB"},{id:18,title:"Hygiène et beauté",shortcut:"Hygiène",color:"#FF69B4"},{id:19,title:"Produits ménagers",shortcut:"Ménag",color:"#8B0000"},{id:20,title:"Animaux",shortcut:"Anim",color:"#FFA07A"},{id:21,title:"Textile",shortcut:"Text",color:"#20B2AA"},{id:22,title:"Électronique et multimédia",shortcut:"Élect",color:"#4682B4"},{id:23,title:"Bricolage et jardinage",shortcut:"Brico",color:"#808000"},{id:24,title:"Papeterie et fournitures scolaires",shortcut:"Bureau",color:"#708090"},{id:25,title:"Jouets et loisirs",shortcut:"Jouet",color:"#FF4500"}],Ie=N({__name:"ShoppingToolbar",props:{newItem:{type:Object},newItemModifiers:{}},emits:H(["addNewItem"],["update:newItem"]),setup(_,{expose:l,emit:n}){l();const e=T(),{shoppingsData:d}=B(e),r=J(_,"newItem"),t=n,a=k(),u=k(),y=D(()=>!(r.value.title.length>0)),m=D({get(){return a.value},set(s){a.value=s}});function b(s,C){C(()=>{const h=s.toLowerCase();if(m.value=h,h.length){const w=d.value.filter(P=>P.title.toLowerCase().startsWith(h));m.value=w.map(P=>P.title)}else m.value=d.value.map(w=>w.title)})}function I(s){const C=d?.value.find(h=>h.title===s);C?r.value={...C}:r.value.title=s}function v(s){r.value.title=s}function S(s){r.value.category=s}function j(s){u.value.hidePopup()}const A={shoppingStore:e,shoppingsData:d,newItem:r,emit:t,itemOptions:a,elementItemsSelect:u,isBtnAddEnable:y,filterItemOptions:m,filterFn:b,setModel:I,setTitle:v,handlePickCategory:S,handleKey:j,get mdiPlus(){return ce},get mdiShapeOutline(){return me},get categories(){return q}};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}});function Se(_,l,n,e,d,r){return c(),p(ve,{class:"bg-secondary"},{default:i(()=>[o(Q,{icon:e.mdiShapeOutline,size:"sm",class:"mr-6 border border-solid border-white toolbar_category_button",round:"",style:x({backgroundColor:e.newItem.category?.color})},{default:i(()=>[o(_e,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:i(()=>[o(W,null,{default:i(()=>[o(O,null,{default:i(()=>l[2]||(l[2]=[G("h4",{class:"text-lg"},"Catégories",-1)])),_:1}),o(R),o(O,null,{default:i(()=>[(c(!0),X(Z,null,Y(e.categories,t=>$((c(),p(Q,{key:t.id,"no-caps":"",class:"q-ma-xs text-white",style:x({backgroundColor:t.color}),label:t.shortcut,onClick:a=>e.handlePickCategory(t)},null,8,["style","label","onClick"])),[[Ce]])),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["icon","style"]),o(ye,{ref:"elementItemsSelect","model-value":e.newItem.title,"use-input":"","hide-selected":"","hide-dropdown-icon":"",style:{width:"200px"},"fill-input":"",label:"Item","input-debounce":"0",options:e.itemOptions,onFilter:e.filterFn,"onUpdate:modelValue":e.setModel,onInputValue:e.setTitle,onKeyup:L(e.handleKey,["enter"])},null,8,["model-value","options"]),o(M,{modelValue:e.newItem.quantity,"onUpdate:modelValue":l[0]||(l[0]=t=>e.newItem.quantity=t),modelModifiers:{number:!0},style:{width:"80px"},label:"Quantité",min:"1",class:"mx-2",type:"number"},null,8,["modelValue"]),o(be),o(Q,{icon:e.mdiPlus,disable:e.isBtnAddEnable,color:"secondary",round:"",size:"sm",class:"cursor-pointer toolbar_add_button",onClick:l[1]||(l[1]=t=>e.emit("addNewItem"))},null,8,["icon","disable"])]),_:1})}const we=z(Ie,[["render",Se],["__file","ShoppingToolbar.vue"]]),Pe=N({__name:"ShoppingPage",setup(_,{expose:l}){l();const n=k({title:"",quantity:1,category:q[0]}),e=T(),{shoppingsData:d}=B(e),r=T(),{shoppingItems:t}=B(r),{handleDelete:a,handlePurchased:u,addToShoppingList:y}=r;function m(){const I=d.value.find(S=>S.title.toLowerCase()===n.value.title.toLowerCase()),v={id:te(),title:n.value.title,quantity:n.value.quantity,category:n.value.category,is_purchased:!1};I||d.value.push(v),y(v),n.value={title:"",quantity:1,category:q[0]}}const b={newItem:n,shoppingStore:e,shoppingsData:d,itemList:r,shoppingItems:t,handleDelete:a,handlePurchased:u,addToShoppingList:y,addNewItem:m,get draggable(){return ue},get mdiCheck(){return pe},get mdiClose(){return he},get mdiDelete(){return fe},get mdiMenu(){return ge},ShoppingToolbar:we,get dragOptions(){return ee}};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}});function Qe(_,l,n,e,d,r){return c(),p(de,{class:"relative-position"},{default:i(()=>[o(ne,{style:{height:"85vh"}},{default:i(()=>[o(e.draggable,oe({modelValue:e.shoppingItems,"onUpdate:modelValue":l[0]||(l[0]=t=>e.shoppingItems=t),tag:"div",handle:".handle_icon","item-key":"title",style:{height:"200px"}},e.dragOptions),{item:i(({element:t})=>[o(se,{separator:"",bordered:"",padding:""},{default:i(()=>[o(re,{"left-color":"negative",onLeft:a=>e.handleDelete(t.id)},{left:i(()=>[o(f,{name:e.mdiDelete},null,8,["name"])]),right:i(()=>[o(f,{name:e.mdiDelete},null,8,["name"])]),default:i(()=>[(c(),p(le,{key:t.id,class:"cursor-grab"},{default:i(()=>[o(g,{avatar:"",onClick:a=>e.handlePurchased(t.id)},{default:i(()=>[o(ae,{style:x({backgroundColor:t.is_purchased?"grey":t.category.color}),"text-color":"white",size:"sm",round:""},{default:i(()=>[F(V(t.category.shortcut),1)]),_:2},1032,["style"])]),_:2},1032,["onClick"]),o(g,null,{default:i(()=>[o(E,{class:U({"line-through italic":t.is_purchased})},{default:i(()=>[F(V(t.title),1)]),_:2},1032,["class"]),o(K,{modelValue:t.title,"onUpdate:modelValue":a=>t.title=a,"auto-save":""},{default:i(a=>[o(M,{modelValue:a.value,"onUpdate:modelValue":u=>a.value=u,modelModifiers:{trim:!0},dense:"",autofocus:"",counter:"",onKeyup:L(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(g,{side:"",class:"q-mr-md"},{default:i(()=>[o(E,{class:U({"line-through italic":t.is_purchased})},{default:i(()=>[F(V(t.quantity),1)]),_:2},1032,["class"]),o(K,{modelValue:t.quantity,"onUpdate:modelValue":a=>t.quantity=a,modelModifiers:{number:!0},"auto-save":""},{default:i(a=>[o(M,{modelValue:a.value,"onUpdate:modelValue":u=>a.value=u,modelModifiers:{number:!0},style:{width:"40px"},dense:"",autofocus:"",type:"number",min:"1",onKeyup:L(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(g,{side:"",onClick:a=>e.handlePurchased(t.id)},{default:i(()=>[o(ie,{appear:"","enter-active-class":"animated rotateIn","leave-active-class":"animated rotateOut",mode:"out-in"},{default:i(()=>[t.is_purchased?(c(),p(f,{key:0,name:e.mdiCheck,color:"positive"},null,8,["name"])):(c(),p(f,{key:1,name:e.mdiClose,color:"negative"},null,8,["name"]))]),_:2},1024)]),_:2},1032,["onClick"]),o(g,{side:""},{default:i(()=>[o(f,{name:e.mdiMenu,class:"handle_icon"},null,8,["name"])]),_:1})]),_:2},1024))]),_:2},1032,["onLeft"])]),_:2},1024)]),_:1},16,["modelValue"])]),_:1}),o(e.ShoppingToolbar,{"new-item":e.newItem,"onUpdate:newItem":l[1]||(l[1]=t=>e.newItem=t),class:"absolute absolute-bottom",onAddNewItem:e.addNewItem},null,8,["new-item"])]),_:1})}const at=z(Pe,[["render",Qe],["__file","ShoppingPage.vue"]]);export{at as default};
